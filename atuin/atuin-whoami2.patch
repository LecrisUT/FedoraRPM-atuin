diff --git a/Cargo.toml b/Cargo.toml
index d9d8426c306..919d8a927cd 100644
--- a/Cargo.toml
+++ b/Cargo.toml
@@ -35,7 +35,7 @@ serde = { version = "1.0.202", features = ["derive"] }
 serde_json = "1.0.119"
 tokio = { version = "1", features = ["full"] }
 uuid = { version = "1.9", features = ["v4", "v7", "serde"] }
-whoami = "1.5.1"
+whoami = "2.1.0"
 typed-builder = "0.18.2"
 pretty_assertions = "1.3.0"
 thiserror = "1.0"
diff --git a/crates/atuin-client/src/utils.rs b/crates/atuin-client/src/utils.rs
index a7c6eab08c4..35d7db26724 100644
--- a/crates/atuin-client/src/utils.rs
+++ b/crates/atuin-client/src/utils.rs
@@ -1,11 +1,11 @@
 pub(crate) fn get_hostname() -> String {
-    std::env::var("ATUIN_HOST_NAME").unwrap_or_else(|_| {
-        whoami::fallible::hostname().unwrap_or_else(|_| "unknown-host".to_string())
-    })
+    std::env::var("ATUIN_HOST_NAME")
+        .unwrap_or_else(|_| whoami::hostname().unwrap_or_else(|_| "unknown-host".to_string()))
 }

 pub(crate) fn get_username() -> String {
-    std::env::var("ATUIN_HOST_USER").unwrap_or_else(|_| whoami::username())
+    std::env::var("ATUIN_HOST_USER")
+        .unwrap_or_else(|_| whoami::username().unwrap_or_else(|_| "unknown-user".to_string()))
 }

 /// Returns a pair of the hostname and username, separated by a colon.
